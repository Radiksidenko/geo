<!DOCTYPE html>
<html>
	<head>
		<!--STYLES-->
		<link rel="stylesheet" href="/styles/angular-toastr.css">
		<link rel="stylesheet" href="/styles/app.css">
		<link rel="stylesheet" href="/styles/foundation.css">
		<link rel="stylesheet" href="/styles/importer.css">
		<!--STYLES END-->
	</head>
	<body ng-app="DashMod" ng-controller="DashCtrl" ng-init="getUser()">
		<nav class="top-bar" data-topbar role="navigation">
			  <ul class="title-area">
			    <li class="name">
			      <h1><a href="#">Dashboard</a></h1>
			    </li>
				  <li class="update">
					  <h1><button ng-click="update()">up</button></h1>
			    </li>
			     <!-- Remove the class "menu-icon" to get rid of menu icon. Take out "Menu" to just have icon alone -->
			    <li class="toggle-topbar menu-icon"><a href="#"><span>Menu</span></a></li>
			  </ul>

			  <section class="top-bar-section">
			    <!-- Right Nav Section -->
			    <ul class="right">
			      <li class="active"><a href="/logout">Logout</a></li>
			    </ul>

			    
			  </section>
			</nav>
			<div class="row">
				<h1>Dashboard</h1>
				<div class="row">
					<div class="large-2 columns">
						<img ng-src="{{user.gravatarUrl}}">
					</div>
					<div class="large-8 columns">
						<ul>
							<li>Name: {{user.name}}</li>
							<input ng-model="name" ng-maxlength="40" type="text" name="name" placeholder="Name" required />

							<li>Email: {{user.email}}</li>
							<li>Member Since: {{user.createdAt}}</li>
						</ul>
					</div>
				</div>
			</div>

	<!--SCRIPTS-->
	<script src="/js/dependencies/sails.io.js"></script>
	<script src="/js/dependencies/angular.js"></script>
	<script src="/js/dependencies/angular-toastr.js"></script>
	<script src="/js/dependencies/angular-toastr.tpls.js"></script>
	<script src="/js/dependencies/foundation.js"></script>
	<script src="/js/dependencies/jquery-3.2.1.js"></script>
	<script src="/js/public/signup/SignupMod.js"></script>
	<script src="/js/public/signup/SignupCtrl.js"></script>
	<script src="/js/public/login/LoginMod.js"></script>
	<script src="/js/public/login/LoginCtrl.js"></script>
	<script src="/js/private/dashboard/DashMod.js"></script>
	<script src="/js/private/dashboard/DashCtrl.js"></script>
	<!--SCRIPTS END-->

		<script type="text/javascript">
            // The automatically-created socket is exposed as io.socket.
            // Use .on() to subscribe to the 'user' event on the client.
            // This event is sent by the Sails "create", "update",
            // "delete", "add" and "remove" blueprints to any socket that
            // is subscribed to one or more User model instances.
            io.socket.on('point', function gotHelloMessage (data) {
                console.log('User alert!', data);
            });
            // Using .get('/user') will retrieve a list of current User models,
            // subscribe this socket to those models, AND subscribe this socket
            // to notifications about new User models when they are created.
            io.socket.get('/get_point', function gotResponse(body, response) {
                console.log('Current point: ', body);
            })
		</script>


	</body>
</html>